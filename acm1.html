<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8"> 
<meta content="个人博客,前端,HTML,css,JavaScript">
<meta name="viewport" content="width=device-width, height=device-height,initial-scale=1.0" />
<title>acm</title> 
<link rel="stylesheet" href="./css/normalize.css">
<link rel="stylesheet" href="./css/font/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./css/font/Roboto-Condensed/Roboto-Condensed.css">
<link rel="stylesheet" href="./css/font/fontello-f75c85fd/css/log.css">
<link rel="stylesheet" href="./css/font/webfont-2/iconfont.css">
<link rel="stylesheet" href="./css/general.css">
<link rel="stylesheet" href="./css/nav.css">
<link rel="stylesheet" href="./css/foot.css">
<link rel="stylesheet" href="./css/acm.css">
<link rel="stylesheet" type="text/css" href="./css/camroll_slider.css">
<script type="text/javascript" src="./js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="./js/camroll_slider.js"></script>
<script src="./js/nav.js"></script>
<script src="./js/gototop.js"></script>
<script src="./js/login.js"></script>

<base href="#">
</head>
    <!-- 导航栏 -->
    <div id="header">

    </div>
<body >
    <!-- 内容栏 -->
    <div class="cgap">
        <div class="cgap1">
        </div>
        <div class="cgap2">
        内容推荐
        </div>
        <div class="cgap1">
        </div>
    </div>
    <div class="container">
        <div class="vscode-body vscode-light">
            <article>
                <h1>Tempter of the Bone（详解）</h1>
                <p>标签： ACM  BFS与DFS</p>
                <hr>
                <div id="description">
                    <p>The doggie found a bone in an ancient maze, which fascinated him a lot. However, when he picked it up, the maze began to shake, and the doggie could feel the ground sinking. He realized that the bone was a trap, and he tried desperately to get out of this maze.</p>
                    <p>The maze was a rectangle with sizes N by M. There was a door in the maze. At the beginning, the door was closed and it would open at the T-th second for a short period of time (less than 1 second). Therefore the doggie had to arrive at the door on exactly the T-th second. In every second, he could move one block to one of the upper, lower, left and right neighboring blocks. Once he entered a block, the ground of this block would start to sink and disappear in the next second. He could not stay at one block for more than one second, nor could he move into a visited block. Can the poor doggie survive? Please help him.
                    InputThe input consists of multiple test cases. The first line of each test case contains three integers N, M, and T (1 &lt; N, M &lt; 7; 0 &lt; T &lt; 50), which denote the sizes of the maze and the time at which the door will open, respectively. The next N lines give the maze layout, with each line containing M characters. A character is one of the following:</p>
                    <p>'X': a block of wall, which the doggie cannot enter;
                    'S': the start point of the doggie;
                    'D': the Door; or'.': an empty block.</p>
                    <p>The input is terminated with three 0's. This test case is not to be processed.</p>
                    <p>Output For each test case, print in one line &quot;YES&quot; if the doggie can survive, or &quot;NO&quot; otherwise.</p>
                </div>
                <div id="input">
                    <blockquote>
                        <p>Sample Input<br>
                        4 4 5<br>
                        S.X.<br>
                        ..X.<br>
                        ..XD<br>
                        ....<br>
                        3 4 5<br>
                        S.X.<br>
                        ..X.<br>
                        ...D<br>
                        0 0 0<br></p>
                    </blockquote>
                </div>
                <div id="out">
                    <blockquote>
                        <p>Sample Output<br>
                        NO<br>
                        YES<br></p>
                    </blockquote>
                </div>
                <div id="explain">
                    <p>N 行 M 列 T 时间，看这个doggie是否能在第T秒刚好到达门。S是doggie的起始位置，D是门的位置。一开始我对这个时间T有点不理解，拿题目中例2来说S走4步在D的前一个位置，再走一步到达D，题目是要在5秒刚好在D，而不是所谓的在时间T内到达就行了。</p>
                    <p>这道题里涉及一些剪枝问题，如果不剪枝就会超时。（我们来把这道题的迷宫想象成一块一块的格子）。</p>
                    <p>1、<em>n*m-wall&lt;=t</em></p>
                    <p>n*m代表总共的格子，nm-wall代表能走的格子数目，t是时间，n*m-wall&lt;=t也就是可以走的格子走完了时间T都没有到，肯定不能到达D。至于为什么有=，看的一个大佬写的一个例子：</p>
                    <div id="example">
                        <blockquote>
                            <p>3 3 4 <br>
                            S X X <br>
                            . X X<br>
                            X . D <br></p>
                        </blockquote>
                    </div>
                    <p>在这里<em>n*m-wall=3*3-5=4=t</em>，这里是不能到达的。</p>
                    <p>2、<em>奇偶剪枝</em></p>
                    <p>因为两点之间直线最短，所以由S到达D的<strong>最短路径</strong>就是abs(sx-dx)+abs(sy-dy),可以把t理解为题目要你走的总步数，t-step就代表你任意走的总步数，
                        因为abs(sx-dx)+abs(sy-dy)已经是最短的步数了，你走的一定不可能比它更短，所以t-step肯定是要&gt;=最短步数的。所以当t-step &lt; abs(sx-dx)+abs(sy-dy)的时候，
                        我们就给它剪出去。<strong>（注意sx,sy,step都是在变化的）</strong>
                    </p>
                    <p>还有t-step-abs(sx-dx)-abs(sy-dy)必须是偶数，如果是奇数就不能到达D。</p>
                </div>
                <div id="pexample">
                    <h4 ><strong>给个例子大家看看吧</strong></h4>
                    <p>3行4列    最短距离是5。空格代表随意走的路线，一共9步，9-5=4为偶数，刚好到达D，如果为奇数，那最后一步到达的肯定是D的周围而不能刚好到达D。</p>
                    <table>
                    <thead>
                    <tr>
                    <th style="text-align:center">S</th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    <th style="text-align:center"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                    <td style="text-align:center">↓</td>
                    <td style="text-align:center"></td>
                    <td style="text-align:center"></td>
                    <td style="text-align:center"></td>
                    </tr>
                    <tr>
                    <td style="text-align:center">↓</td>
                    <td style="text-align:center">→</td>
                    <td style="text-align:center">→</td>
                    <td style="text-align:center">→D</td>
                    </tr>
                    </tbody>
                    </table>
                </div>
                <div ></div>
                    <h3>3. 下面是代码</h3>
<pre><code><code><div id="code">#include&lt;string.h&gt;
#include&lt;stdio.h&gt;
#include&lt;iostream&gt;
#include&lt;stdlib.h&gt;
using namespace std;
char maze[7][7];
int direct[4][2]={{0,1},{0,-1},{1,0},{-1,0}};
int n,m,t,dx,dy;
bool flag;
void dfs(int x,int y,int step)
{
    int i,p,x1,y1;
    if(x&lt;=0||x&gt;n||y&lt;=0||y&gt;m)
        return;
    if(x==dx&amp;&amp;y==dy&amp;&amp;step==t)
    {
        flag=1;
        return;
    }
    p=(t-step)-abs(x-dx)-abs(y-dy);
    if(p&lt;0||p&amp;1)
        return ;
    for(i=0;i&lt;4;i++)
    {
        x1=x+direct[i][0];
        y1=y+direct[i][1];
        if(maze[x1][y1]!='X')
        {
            maze[x1][y1]='X';
            dfs(x1,y1,step+1);
            if(flag)
                return ;
            maze[x1][y1]='.';
        }
    }
    return;
}
int main()
{
    int i,j,sx,sy,wall;
    while(scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;t)&amp;&amp;(m+n+t))
    {
    wall=0;
        for(i=1;i&lt;=n;i++)
        {
            for(j=1;j&lt;=m;j++)
            {
                cin&gt;&gt;maze[i][j];
                if(maze[i][j]=='S')
                {
                    sx=i;
                    sy=j;
                }
                else if(maze[i][j]=='D')
                {
                    dx=i;
                    dy=j;
                }
                else if(maze[i][j]=='X')
                    wall++;
            }
        }
        flag=0;
        maze[sx][sy]='X';
        dfs(sx,sy,0);
        if(n*m-wall&lt;=t)
        {
            printf(&quot;NO\n&quot;);
            continue;
        }
        if(flag)
            printf(&quot;YES\n&quot;);
        else
            printf(&quot;NO\n&quot;);
    }
    return 0;
}
                </div></code></code></pre>
                </div>
                <div id="declare">
                    <p>转载说明：本文转自CSDN作者<a href="https://blog.csdn.net/narzisen/article/details/80545804">聪明绝顶的你与即将秃头的我</a></p>
                </div>
            </article>
        </div>
    </div>
    <iframe class="foot"  src="foot.html" frameborder="0" width="100%" height="30px" scrolling="no"></iframe>
 

    <img class="footer-img" id="gotoTop" src="./images/backtop.png" >
</body>

<style>
@media only screen and (max-width: 300px){
    .mhiden{
        display: none;
    }
}
</style>
</html>
